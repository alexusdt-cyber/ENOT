# Notes Application - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö Replit:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

1. **DATABASE_URL** - URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–π MySQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   ```
   mysql://username:password@host:port/database_name
   ```
   ‚úÖ –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

2. **SESSION_SECRET** - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Å–µ—Å—Å–∏–π (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
   ```
   generate-random-string-here-min-32-chars
   ```
   ‚úÖ –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

3. **GOOGLE_CLIENT_ID** - Client ID –¥–ª—è Google OAuth
4. **GOOGLE_CLIENT_SECRET** - Client Secret –¥–ª—è Google OAuth  
5. **GOOGLE_CALLBACK_URL** - URL –¥–ª—è callback (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:5000/api/auth/google/callback)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ Google+ API
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Credentials" ‚Üí "Create Credentials" ‚Üí "OAuth 2.0 Client ID"
5. –¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: "Web application"
6. Authorized redirect URIs: –¥–æ–±–∞–≤—å—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.replit.app/api/auth/google/callback`
7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret –≤ —Å–µ–∫—Ä–µ—Ç—ã Replit

### Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–±—É–¥—É—â–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

–î–ª—è Telegram Login Widget –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:
- –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
- –ü–æ–ª—É—á–∏—Ç—å bot token
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å domain –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ MySQL:

```bash
npm run migrate
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π multi-auth
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–º–µ—Ç–æ–∫
- `notes` - –∑–∞–º–µ—Ç–∫–∏ —Å rich content
- `note_shares` - –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–º–µ—Ç–∫–∞–º
- `attachments` - –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `sessions` - —Å–µ—Å—Å–∏–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multi-auth: email, Google, Telegram
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- UUID –≤ –∫–∞—á–µ—Å—Ç–≤–µ primary key

### –¢–∞–±–ª–∏—Ü–∞ `notes`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ (LONGTEXT)
- Rich content: HTML, Markdown, Rich Text
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤, –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è, –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –ø–æ share token
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ timestamps

### –¢–∞–±–ª–∏—Ü–∞ `note_shares`
- –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞: view, comment, edit
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞

### –¢–∞–±–ª–∏—Ü–∞ `attachments`
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ñ–∞–π–ª–æ–≤
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: —Ä–∞–∑–º–µ—Ä, —Ç–∏–ø, dimensions –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏

### –¢–∞–±–ª–∏—Ü–∞ `categories`
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è: —Ü–≤–µ—Ç, –∏–∫–æ–Ω–∫–∞
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

## API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email
- `POST /api/auth/login` - –í—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—å
- `GET /api/auth/google` - –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google
- `POST /api/auth/logout` - –í—ã—Ö–æ–¥
- `GET /api/auth/me` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- `GET /api/categories` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `POST /api/categories` - –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- `PATCH /api/categories/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- `DELETE /api/categories/:id` - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

### –ó–∞–º–µ—Ç–∫–∏
- `GET /api/notes` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏ (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- `GET /api/notes/:id` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –ø–æ ID
- `GET /api/notes/share/:token` - –ü–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—É—é –∑–∞–º–µ—Ç–∫—É
- `POST /api/notes` - –°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É
- `PATCH /api/notes/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
- `DELETE /api/notes/:id` - –£–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
- `POST /api/notes/:id/share` - –°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É
- `GET /api/notes/:id/shares` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–æ–≤
- `POST /api/notes/:id/shares` - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `DELETE /api/shares/:id` - –£–¥–∞–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- Multi-auth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Email –≥–æ—Ç–æ–≤–æ, Google OAuth –≥–æ—Ç–æ–≤–æ)
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –ø–æ —Å—Å—ã–ª–∫–∞–º
- –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (view/comment/edit)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∏ rich content
- –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ–∏—Å–∫ –ø–æ –∑–∞–º–µ—Ç–∫–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

üöß **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:**
- Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è bot token)
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `npm run migrate`
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run dev`
3. üîÑ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. üîÑ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å frontend —Å API
5. üîÑ –î–æ–±–∞–≤–∏—Ç—å Telegram Login Widget

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **Database**: MySQL (—É–¥–∞–ª–µ–Ω–Ω–∞—è –ë–î)
- **ORM**: Drizzle ORM
- **Auth**: Passport.js (Local, Google OAuth)
- **Session**: express-session
- **Validation**: Zod schemas
- **Password hashing**: bcryptjs
